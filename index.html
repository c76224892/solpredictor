<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Solpredictor</title>
  <style>
    /* Import Fonts */
    @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');

    /* Reset and Base Styles */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Share Tech Mono', monospace;
      background: #000;
      color: #00ff00;
      overflow: hidden;
      position: relative;
      padding: 20px; /* Space for content margins */
    }

    /* Canvas Background with Margins */
    #matrix {
      position: fixed;
      top: 0;
      left: 0;
      width: calc(100% - 40px);  /* 20px margin on left and right */
      height: calc(100% - 40px); /* 20px margin on top and bottom */
      margin: 20px;              /* Margin around canvas */
      z-index: -3;               /* Behind all content */
      background: #000;
    }

    /* Glitch Background Effect (Optional) */
    body::before, body::after {
      content: "";
      position: fixed;
      width: 200%;
      height: 200%;
      top: -50%;
      left: -50%;
      background: url('https://www.transparenttextures.com/patterns/asfalt-dark.png');
      opacity: 0.02;
      z-index: -2;
      animation: glitch 3s infinite;
    }
    body::after { opacity: 0.01; }
    @keyframes glitch {
      0% { transform: translate(0,0); }
      20% { transform: translate(-10px, 10px); }
      40% { transform: translate(10px, -10px); }
      60% { transform: translate(-5px, 5px); }
      80% { transform: translate(5px, -5px); }
      100% { transform: translate(0,0); }
    }

    /* Container styling */
    .section-container {
      background: rgba(0, 0, 0, 0.85);
      border: 1px solid #00ff00;
      padding: 20px;
      margin-bottom: 40px;
      box-shadow: 0 0 15px #00ff00;
      position: relative;
      z-index: 1; /* Above canvas */
    }
    .section-container::before {
      content: "";
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      pointer-events: none;
      background: linear-gradient(
        0deg,
        transparent 70%,
        rgba(0,255,0,0.05) 70%,
        rgba(0,255,0,0.05) 100%
      );
      background-size: 100% 5px;
      animation: scanline 2s linear infinite;
      z-index: -1;
    }
    @keyframes scanline {
      from { background-position: 0 0; }
      to { background-position: 0 100%; }
    }

    h1, h2 {
      font-family: 'Orbitron', sans-serif;
      color: #00ff00;
      text-shadow: 0 0 5px #00ff00;
      margin-bottom: 20px;
    }

    /* 
      UPDATED: Make the title bigger and add a pulse animation 
    */
    h1 {
      font-size: 3.5rem;        /* Bigger title */
      text-align: center;
      margin-bottom: 40px;
      animation: titlePulse 2s infinite alternate; /* Pulse animation */
    }
    @keyframes titlePulse {
      0%   { transform: scale(1); }
      100% { transform: scale(1.08); }
    }

    h2 { font-size: 1.5rem; }

    form, #fakeMetrics, #resolution, #devResolution {
      margin-bottom: 20px;
    }
    label { display: block; margin-top: 10px; color: #00ffea; }
    input, button {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border: 1px solid #00ff00;
      background: #000;
      color: #00ff00;
      font-family: inherit;
    }
    input:focus, button:focus { outline: none; }
    button {
      cursor: pointer;
      margin-top: 20px;
      background: #00ff00;
      color: #000;
      transition: background 0.3s;
    }
    button:hover { background: #00cc00; }

    .statistic { margin: 5px 0; }
    .statistic div { display: inline-block; }
    .flicker { animation: flickerText 0.2s infinite; }
    @keyframes flickerText {
      0% { opacity: 1; }
      50% { opacity: 0.3; }
      100% { opacity: 1; }
    }

    .success, .warning {
      font-weight: bold;
      text-shadow: 0 0 5px;
      animation: glow 1s ease-in-out infinite alternate;
      padding: 5px;
      border-radius: 4px;
    }
    .success { 
      color: #000;
      background-color: #00ff00;
    }
    .warning { 
      color: #000;
      background-color: #ff0000;
    }

    @keyframes glow {
      from { text-shadow: 0 0 5px; }
      to { text-shadow: 0 0 20px; }
    }

    /* Fade-in animation for final results */
    .fade-in {
      opacity: 0;
      animation: fadeIn 2s forwards;
    }
    @keyframes fadeIn {
      to { opacity: 1; }
    }

    /* Utility class to hide elements */
    .hidden { display: none; }
  </style>
</head>
<body>
  <canvas id="matrix"></canvas>
  <h1>Solpredictor</h1>

  <!-- Coin Analysis Section -->
  <div class="section-container" id="coinAnalysisSection">
    <h2>Coin Analysis</h2>
    <form id="coinAnalyzeForm">
      <label for="contractAddress">Contract Address:</label>
      <input type="text" id="contractAddress" name="contractAddress" placeholder="e.g., 4Nd1m1aU..." required maxlength="100" />
      <label for="twitterHandle">Twitter Handle (optional):</label>
      <input type="text" id="twitterHandle" name="twitterHandle" placeholder="@example_handle" maxlength="100" />
      <button type="submit">Analyze Coin</button>
    </form>
    <div id="coinLoading" class="hidden"><p>üîç Analyzing coin...</p></div>
    <div id="coinAnalysisResults" class="hidden">
      <h2>Analysis Results</h2>
      <div id="fakeMetrics">
        <div class="statistic"><div>CPU Load:</div> <div><span id="cpuLoad" class="flicker">--</span>%</div></div>
        <div class="statistic"><div>Node Response:</div> <div><span id="nodeResponse" class="flicker">--</span>ms</div></div>
        <div class="statistic"><div>Packet Loss:</div> <div><span id="packetLoss" class="flicker">--</span>%</div></div>
        <div class="statistic"><div>Hash Rate:</div> <div><span id="hashRate" class="flicker">--</span> GH/s</div></div>
        <div class="statistic"><div>Encryption Complexity:</div> <div><span id="encryptionComplexity" class="flicker">--</span></div></div>
        <div class="statistic"><div>Latency Variation:</div> <div><span id="latencyVariation" class="flicker">--</span>ms</div></div>
        <div class="statistic"><div>Data Throughput:</div> <div><span id="dataThroughput" class="flicker">--</span> MB/s</div></div>
        <div class="statistic"><div>Security Protocol Strength:</div> <div><span id="securityStrength" class="flicker">--</span></div></div>
        <div class="statistic"><div>AI Prediction Index:</div> <div><span id="aiPredictionIndex" class="flicker">--</span></div></div>
        <!-- Additional Financial Metrics -->
        <div class="statistic"><div>Market Cap:</div> <div><span id="marketCap" class="flicker">--</span></div></div>
        <div class="statistic"><div>24h Volume:</div> <div><span id="volume24h" class="flicker">--</span></div></div>
        <div class="statistic"><div>ROI:</div> <div><span id="roi" class="flicker">--</span></div></div>
      </div>
      <div id="resolution"></div>
    </div>
  </div>

  <!-- Developer Analysis Section -->
  <div class="section-container" id="devAnalysisSection">
    <h2>Developer & Social Media Analysis</h2>
    <form id="devAnalyzeForm">
      <label for="socialLink">Developer/Social Media Link:</label>
      <input type="text" id="socialLink" name="socialLink" placeholder="e.g., https://twitter.com/example" required maxlength="200" />
      <button type="submit">Analyze Developer</button>
    </form>
    <div id="devLoading" class="hidden"><p>üîç Analyzing developer...</p></div>
    <div id="devAnalysisResults" class="hidden">
      <h2>Developer Analysis Results</h2>
      <div id="devResolution"></div>
    </div>
  </div>

  <script>
    // Matrix ASCII Animation
    const canvas = document.getElementById('matrix');
    const ctx = canvas.getContext('2d');

    function setCanvasSize() {
      // Use CSS-defined size which already includes margins
      canvas.width = canvas.clientWidth;
      canvas.height = canvas.clientHeight;
    }
    setCanvasSize();

    const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%^&*()*&^%";
    const fontSize = 16;
    let columns, drops;

    function initializeMatrix() {
      columns = canvas.width / fontSize;
      drops = Array(Math.floor(columns)).fill(1);
    }
    initializeMatrix();

    function drawMatrix() {
      ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      ctx.fillStyle = "#0F0";
      ctx.font = fontSize + "px monospace";

      for (let i = 0; i < drops.length; i++) {
        const text = chars.charAt(Math.floor(Math.random() * chars.length));
        ctx.fillText(text, i * fontSize, drops[i] * fontSize);

        if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
          drops[i] = 0;
        }
        drops[i]++;
      }
    }

    setInterval(drawMatrix, 50);

    // Resize canvas on window resize and reinitialize matrix settings
    window.addEventListener('resize', () => {
      setCanvasSize();
      initializeMatrix();
    });

    document.addEventListener('DOMContentLoaded', () => {
      // Elements for Coin Analysis
      const coinAnalyzeForm       = document.getElementById('coinAnalyzeForm');
      const coinAnalysisResults   = document.getElementById('coinAnalysisResults');
      const resolutionDiv         = document.getElementById('resolution');
      const coinLoadingDiv        = document.getElementById('coinLoading');

      const cpuLoadEl              = document.getElementById('cpuLoad');
      const nodeResponseEl         = document.getElementById('nodeResponse');
      const packetLossEl           = document.getElementById('packetLoss');
      const hashRateEl             = document.getElementById('hashRate');
      const encryptionComplexityEl = document.getElementById('encryptionComplexity');
      const latencyVariationEl     = document.getElementById('latencyVariation');
      const dataThroughputEl       = document.getElementById('dataThroughput');
      const securityStrengthEl     = document.getElementById('securityStrength');
      const aiPredictionIndexEl    = document.getElementById('aiPredictionIndex');
      const marketCapEl            = document.getElementById('marketCap');
      const volume24hEl            = document.getElementById('volume24h');
      const roiEl                  = document.getElementById('roi');

      // Elements for Developer Analysis
      const devAnalyzeForm        = document.getElementById('devAnalyzeForm');
      const devAnalysisResults    = document.getElementById('devAnalysisResults');
      const devResolutionDiv      = document.getElementById('devResolution');
      const devLoadingDiv         = document.getElementById('devLoading');

      coinAnalyzeForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const contractAddress = sanitizeInput(document.getElementById('contractAddress').value.trim());
        const twitterHandle   = sanitizeInput(document.getElementById('twitterHandle').value.trim());

        if (!contractAddress) { alert('Please enter a contract address.'); return; }

        coinAnalyzeForm.classList.add('hidden');
        coinLoadingDiv.classList.remove('hidden');

        setTimeout(() => {
          coinLoadingDiv.classList.add('hidden');
          coinAnalysisResults.classList.remove('hidden');
          generateAndDisplayMetrics();

          setTimeout(() => {
            const probability = getRandomInt(80, 100);
            const upside = getRandomInt(3, 8);
            displaySuccessResolution(probability, upside, twitterHandle);
          }, 4000);
        }, 3000);
      });

      devAnalyzeForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const socialLink = sanitizeInput(document.getElementById('socialLink').value.trim());
        if (!socialLink) { alert('Please enter a valid link.'); return; }

        devAnalyzeForm.classList.add('hidden');
        devLoadingDiv.classList.remove('hidden');

        setTimeout(() => {
          devLoadingDiv.classList.add('hidden');
          devAnalysisResults.classList.remove('hidden');
          displayDevAnalysis(socialLink);
        }, 3000);
      });

      function sanitizeInput(str) {
        const temp = document.createElement('div');
        temp.textContent = str;
        return temp.innerHTML;
      }

      function generateFakeMetrics() {
        return {
          cpuLoad: Math.floor(Math.random() * 100),
          nodeResponse: Math.floor(Math.random() * 500),
          packetLoss: (Math.random() * 5).toFixed(2),
          hashRate: (Math.random() * 1000).toFixed(2),
          encryptionComplexity: `2^${getRandomInt(128, 256)}`,
          latencyVariation: Math.floor(Math.random() * 100),
          dataThroughput: (Math.random() * 100).toFixed(2),
          securityStrength: `AES-${getRandomInt(128, 256)} bit`,
          aiPredictionIndex: (Math.random() * 1).toFixed(4),
          marketCap: `$${(Math.random() * 1000000000).toFixed(2)}`,
          volume24h: `$${(Math.random() * 50000000).toFixed(2)}`,
          roi: `${(Math.random() * 100).toFixed(2)}%`
        };
      }

      function generateAndDisplayMetrics() {
        const metrics = generateFakeMetrics();
        animateValue(cpuLoadEl, 0, metrics.cpuLoad, 4000, 0);
        animateValue(nodeResponseEl, 0, metrics.nodeResponse, 4000, 0);
        animateValue(packetLossEl, 0, metrics.packetLoss, 4000, 2);
        animateValue(hashRateEl, 0, parseFloat(metrics.hashRate), 4000, 2);
        setTimeout(() => { encryptionComplexityEl.textContent = metrics.encryptionComplexity; }, 4000);
        animateValue(latencyVariationEl, 0, metrics.latencyVariation, 4000, 0);
        animateValue(dataThroughputEl, 0, parseFloat(metrics.dataThroughput), 4000, 2);
        setTimeout(() => { securityStrengthEl.textContent = metrics.securityStrength; }, 4000);
        setTimeout(() => { aiPredictionIndexEl.textContent = metrics.aiPredictionIndex; }, 4000);
        setTimeout(() => { marketCapEl.textContent = metrics.marketCap; }, 4000);
        setTimeout(() => { volume24hEl.textContent = metrics.volume24h; }, 4000);
        setTimeout(() => { roiEl.textContent = metrics.roi; }, 4000);
      }

      function animateValue(element, start, end, duration, decimals) {
        let startTimestamp = null;
        const step = (timestamp) => {
          if (!startTimestamp) startTimestamp = timestamp;
          const progress = Math.min((timestamp - startTimestamp) / duration, 1);
          const value = progress * (end - start) + start;
          element.textContent = formatNumber(value, decimals);
          if (progress < 1) window.requestAnimationFrame(step);
        };
        window.requestAnimationFrame(step);
      }

      function formatNumber(num, decimals) {
        return num.toFixed(decimals).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
      }

      function getRandomInt(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
      }

      function displaySuccessResolution(probability, upside, twitterHandle) {
        let additionalAnalysis = '';
        if (twitterHandle) {
          additionalAnalysis = `
            <p class="fade-in">üîç Analyzing developer credentials and social media presence for ${twitterHandle}...</p>
            <p class="fade-in">‚úÖ Developer and social profiles appear trustworthy.</p>
          `;
        }
        resolutionDiv.innerHTML = `
          <p class="success flicker fade-in">‚úÖ Recommended to Invest!</p>
          <p class="fade-in" style="color:#FFFF00; font-weight:bold;">Probability of Success: <strong>${probability}%</strong></p>
          <p class="fade-in" style="color:#FFFF00; font-weight:bold;">Expected Upside: <strong>${upside}x</strong></p>
          ${additionalAnalysis}
        `;
      }

      function displayDevAnalysis(socialLink) {
        devResolutionDiv.innerHTML = `
          <p class="fade-in">üîç Analyzing the developer's history and social media at:</p>
          <p class="fade-in" style="color:#FFFF00; font-weight:bold;"><strong>${socialLink}</strong></p>
          <p class="fade-in">‚úÖ Developer has a strong history and reliable social media presence.</p>
        `;
      }
    });
  </script>
</body>
</html>
